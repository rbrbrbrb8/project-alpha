(()=>{const e=angular.module("AddProjectApp",["ngMaterial","ngMessages","addProjectModule"]);e.controller("AddProjectController",["$scope","addProjectHttpMethods","$mdDialog",function(e,t,o){e.project={},e.rewards=[{},{}],e.isNext=!1,e.verifyAndSend=()=>{const o=(e=>{const t=Object.entries(e);if(console.log(e),t.length<8)return alert("need to fill the entire form"),!1;t.forEach((e=>{if(!e[1])return alert("need to fill the entire form"),!1}));const o=t.find((e=>e[0].includes("amount")));if(isNaN(o[1]))return alert("amount must be number"),!1;let r=!0;return t.filter((e=>e[0].includes("bank"))).forEach(((e,t)=>{new RegExp(`^[0-9]{${2+t*t}}$`).test(e[1])&&(r=!1)})),!0})(e.project),r=(e=>{let t=!0;return 0===e.length?(alert("need to include at least 1 reward/donation option"),!1):(e.forEach((e=>{const o=Object.entries(e);o.length<3&&(alert("need to fill all reward details"),t=!1),o.forEach((e=>{e[1]||(alert("need to fill all reward details"),t=!1)}));const r=o.find((e=>e[0].includes("donation")));r&&isNaN(r[1])&&(alert("donation must be number"),t=!1)})),t)})(e.rewards);console.log("rewards: "+r),console.log("project: "+o),o&&r&&(e.project.rewards=e.rewards,t.requestAddProject(e.project).then((t=>{console.log(t.data),e.showSuccessSaveDialog()})))},e.showSuccessSaveDialog=()=>{const e=o.confirm().title("Saved Successfully").textContent("Your project has been successfully saved").ariaLabel("Lucky day").ok("Add Another Project").cancel("Back To Homepage");o.show(e).then((function(){window.location.href="/addproject"}),(function(){window.location.href="/homepage"}))},e.printRewards=()=>{console.log(e.rewards)},e.switchPage=()=>{e.isNext=!e.isNext},e.addDonationOption=()=>{e.rewards.push({})},e.removeDonationOption=t=>{e.rewards=e.rewards.filter(((e,o,r)=>e!==t))}}]),e.directive("navbar",[function(){return{restrict:"E",scope:{},controller:function(e){},templateUrl:"views/navbar.html"}}]),e.config((function(e){e.theme("docs-dark","default").primaryPalette("yellow").dark()}))})();